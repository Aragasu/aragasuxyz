<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>aragasu.xyz</title>

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;500;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <link rel="stylesheet" href="styles.css">

  <!-- Favicon -->
  <link rel="icon" href="/images/amc_transparent.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/amc_transparent.png">
</head>
<body>

<main class="container">
  <div class="content-wrapper">

    <!-- Avatar -->
    <div class="avatar fade-in">
      <img src="\images\avatar.svg" alt="Avatar">
    </div>

    <!-- Scrambled Name -->
    <h1 id="scramble-text" class="fade-in">Aragasu</h1>

    <!-- Social Icons -->
    <div class="social-icons fade-in" id="social-icons"></div>

    <!-- Info Boxes -->
    <div class="info-list fade-in" id="info-list"></div>

    <!-- Link Cards -->
    <div class="link-list fade-in" id="link-list"></div>

  </div>
</main>

<script>
/* === Scramble Name === */
const titleEl = document.getElementById('scramble-text');
const chars = 'abcdefghijklmnopqrstuvwxyz#?!=()';
const text = 'Aragasu';
let frame = 0;
const totalFrames = 30;

function scramble() {
  let output = '';
  for (let i = 0; i < text.length; i++) {
    output += Math.random() < frame / totalFrames
      ? text[i]
      : chars[Math.floor(Math.random() * chars.length)];
  }
  titleEl.textContent = output;
  frame++;
  if (frame <= totalFrames) {
    requestAnimationFrame(scramble);
  }
}
scramble();

/* === Fade-in === */
window.addEventListener('load', () => {
  document.querySelectorAll('.fade-in').forEach(el =>
    el.classList.add('visible')
  );
});

/* === Load socials from socials.txt === */
fetch('socials.txt')
  .then(res => res.text())
  .then(text => {
    const container = document.getElementById('social-icons');
    const lines = text.split('\n').map(l => l.trim()).filter(Boolean);

    for (let i = 0; i < lines.length; i += 3) {
      const name = lines[i];
      const link = lines[i + 1];
      const icon = lines[i + 2];

      if (!name || !link || !icon) continue;

      const a = document.createElement('a');
      a.href = link;
      a.title = name;
      a.target = link.startsWith('http') ? '_blank' : '_self';
      a.innerHTML = `<i class="${icon}"></i>`;

      container.appendChild(a);
    }
  })
  .catch(err => console.error('Failed to load socials.txt', err));

/* === Load info boxes from info.txt (Title + Text) === */
fetch('info.txt')
  .then(res => res.text())
  .then(text => {
    const container = document.getElementById('info-list');
    const lines = text.split('\n');

    for (let i = 0; i < lines.length; i++) {
      if (!lines[i].trim()) continue; // Leerzeile = Trennung
      const title = lines[i].trim();
      const content = (lines[i + 1] || '').trim();
      i++; // springe Ã¼ber Textzeile

      const div = document.createElement('div');
      div.className = 'link-card'; // gleicher Stil wie Link-Cards
      div.innerHTML = `<strong>${title}</strong>${(content && content !== '{0}') ? '<br><span>' + content + '</span>' : ''}`;
      container.appendChild(div);
    }
  })
  .catch(err => console.error('Failed to load info.txt', err));

/* === Load link cards from cards.txt (NO icons) === */
fetch('cards.txt')
  .then(res => res.text())
  .then(text => {
    const container = document.getElementById('link-list');
    const lines = text.split('\n').map(l => l.trim());

    for (let i = 0; i < lines.length; i++) {
      if (!lines[i]) continue; // Leerzeile = Trennung

      const title = lines[i]; i++;
      const url = lines[i];   i++;
      let desc = lines[i] || ''; i++;

      if (desc === '{0}') desc = '';
      if (!title || !url) continue;

      const a = document.createElement('a');
      a.className = 'link-card';
      a.href = url;
      a.target = url.startsWith('http') ? '_blank' : '_self';
      a.innerHTML = `<strong>${title}</strong>${desc ? '<br><span>' + desc + '</span>' : ''}`;

      container.appendChild(a);
    }
  })
  .catch(err => console.error('Failed to load cards.txt', err));</script>

</body>
</html>
